# Домашнее задание к занятию 13 «Введение в мониторинг»

1. Необходимо вывести следующие метрики:
- CPU_user, CPU_system, CPU_la для мониторинга загрузки CPU
- RAM_used, RAM_cached, RAM_total для мониторинга загрузки RAM
- Storage_space в байтах для оценки занятого места на жестком диске
- IOps для оценки производительности жестких дисков
- Скорость и загрузку сетевых интерфейсов для оценки того, достаточна ли пропускная способность сети
- Количество http-запросов для понимания количества возможных ошибок при обращении к ПО

2. В данном случае, мы можем сделать алертинг на ключевые показатели по важным метрикам. Также, необходимо разработать SLA, в котором будут указаны ключевые показатели доступности и производительности системы и их допустимые значения. (Например, максимальный процент загрузки CPU или количество 4хх и 5хх ответов по HTTP )

3. Можем воспользоваться встроенными в ОС Linux системами логирования: rsyslog и systemd-journald. Сервис rsyslog распределяет сообщения в соответствующие log-файлы в каталоге /var/log/, которые не очищаются в ходе перезагрузки системы.
Распределение сообщений осуществляется в зависимости от их типа (facility) и приоритета (priority).
Сервис systemd-journald записывает события в журналы в определенном формате. По умолчанию журналы событий хранятся в операционной системе (в директории /run/log/journal) до перезагрузки, но можно настроить и постоянное хранение.
Также, можно настроить вычитывание данных логов и отправку ключевых показателей и ошибок в мессенджер или на почту, либо же, их вывод в отдельный файл, средствами Linux (tail, grep, sendmsg или их аналоги)
 
4. Необходимо также учитывать HTTP коды 3xx, так как учитывается общее количество запросов, в то время, как метрики настроены только на 4хх и 5хх.

5.Плюсы pull-модели:

Не требуется установка и настройка агентов на сервера
Все настройки хранятся в одном месте

Минусы pull-модели:

Высокая нагрузка на сервер, так как все опросы ведутся с него
Повышенные требования к отказоустойчивости, чтобы избежать отвала всей системы мониторинга при отказе одного сервера

Плюсы push-модели:

Возможность настроить агент на каждом хосте индивидуально
Уменьшается нагрузка на сервер ввиду отсутствия необходимости опроса хостов

Минусы push-модели:

Необходима установка и настройка агента на каждом хосте (упрощается при помощи средств управления конфигурацией или подхода ISaaC)
Хост ничего не знает о том, получил ли сервер его метрики и не получает обратной связи

6. Prometheus и Nagios относятся к pull-мониторингам, TICK и VictoriaMetrics - к push. Zabbix умеет работать по обеим моделям, то есть, можно отнести его к гибридной модели, но, чаще используется push-модель с использованием zabbix-agent на хостах

7. ![image](https://github.com/user-attachments/assets/ad8c60a2-b87e-4c64-976e-2725b18acfb4)
![image](https://github.com/user-attachments/assets/3eef436e-d7e2-474a-a068-1e6b45a08ba1)

8. ![image](https://github.com/user-attachments/assets/370c7229-966c-438e-950e-21f06f9ba737)
9. Плагин docker уже был в telegraf. conf. После правки композ-файла и перезапуска метрики docker появились в списке
![image](https://github.com/user-attachments/assets/49d506ff-5a9f-4b11-a9d4-9e7162abccb2)
